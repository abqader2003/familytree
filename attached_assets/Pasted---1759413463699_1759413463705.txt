إعمل موقع ويب تفاعلي لعرض وإدارة شجرة عائلة مع المواصفات التالية:

الهدف العام

موقع لعرض شجرة العائلة (عرض تسلسل الأجيال بطريقة "mind-map" / شجرة) يعمل ممتاز على سطح المكتب والموبايل (responsive).

تصميم جذاب ذو لمسة تراثية، ألوان جادة وواجهة بسيطة وأنيقة.


الوظائف الرئيسة

1. عرض الشجرة

كل فرد يظهر كبطاقة (card) تحتوي: الاسم، السن، السكن (الإقامة)، العمل، نبذة قصيرة.

عند الضغط على البطاقة يظهر تبويب/مودال يحتوي التفاصيل الكاملة بالإضافة إلى حقل رقم الواتساب (WhatsApp) — يُعرض رقم الواتساب فقط للمستخدمين المُسجَّلين ومُسجَّلين الدخول.

خطوط الوصل بين البطاقات تكون مثل خيوط الخرائط الذهنية (mind-map connectors).

عند ربط الزوج والزوجة إذا كانا من الشجرة، تعرضان جنبًا إلى جنب مع خط رأسي يربط بينهما، وخط علوي يربط الزوجين إلى الأب والأم (كما في الملاحظات).

إضافة أفراد تابعين تحت أب و/أو أم (كلّ إضافة تكون تحت الأب والأم المحددين)، مع احترام ترتيب الأجيال.



2. لوحة الأدمن (Admin)

زر للدخول إلى لوحة الأدمن مخفي في الواجهة (أو زر ظاهر) يتطلب كلمة مرور افتراضية: asd123. (ملاحظة أمنية: اطلب من النظام تغيير هذه الكلمة عند النشر).

في لوحة الأدمن: إمكانية إضافة / تعديل / حذف أفراد، وتعيينهم كأب/أم/زوج/زوجة/أقارب غير مباشرين (مثل زوج الابنة، الأخ غير الشقيق).

عند إضافة فرد، يُنشأ له يوزر + باسورد تلقائيًا (يوزر: بريد إلكتروني أو اسم مستخدم، وكلمة مرور قابلة للتغيير لاحقًا).

إمكانية تغيير كلمة المرور واليوزر لكل من الأدمن والمستخدمين العاديين.



3. حسابات المستخدمين

لكل فرد يمكن تفعيل حساب مستخدم (username, password) عند الإضافة. الحسابات لا تظهر في الواجهة العامة.

المصادقة (login) تسمح للمستخدم بتحديث بياناته السرية (مثل رقم الواتساب ونصوص "سرية" أخرى).

صلاحيات: Admin > يمكن تعديل كل شيء. User > يمكن تعديل فقط بيانات البطاقة الخاصة به/بها (حسب الربط).

تغيير كلمة المرور يجب أن يكون متاحًا من صفحة الإعدادات (مع تأكيد بكلمة المرور القديمة).



4. أشخاص غير من الشجرة بالكامل

إمكانية إضافة أفراد "خارجيين" (مثل: زوج الابنة، زوجة الابن، أخ غير شقيق...) مع علاقة مرنة توضع كـ "صلة جانبية"؛ تُعرض البطاقتان جنبًا إلى جنب مع خط يصل بينهما (line connector).



5. البيانات وطرق التخزين

قاعدة بيانات مبسطة قابلة للتعديل: ملف JSON أو CSV مبدئيًا (للبداية) مع واجهة لاستيراد/تصدير JSON أو CSV للتعديل اليدوي.

كل سجل فردي يجب أن يحتوي الحقول: id, firstName, lastName, dob أو age, residence, occupation, bio, whatsapp (مخفي حتى تسجيل الدخول), username, passwordHash, role (admin/user/none), motherId, fatherId, spouseId, sideRelations: [{id, relationType}], createdAt, updatedAt.

البيانات الأولية (Initial seed): عائلة من جدّ وجدّة، لهم 3 أبناء ذكور، كل واحد له زوجة وابن وابنة — أدرج مثال JSON (في الأسفل).

حفظ كلمات المرور كـ hash (bcrypt أو بديل آمن). لا تحتفظ بكلمات المرور بنص واضح.



6. واجهة المستخدم / التصميم

تصميم تراثي بسيط: خطوط مقروءة، ألوان جادة (اقتراح: أزرق غامق، بني فاتح، أبيض كخلفية ثانوية)، ظلال خفيفة وبطاقات مدورة قليلاً.

شجرة قابلة للسحب والتكبير/التصغير (pan & zoom) على الجوال والكمبيوتر.

عند تصغير الشاشة، تظهر البطاقات في تخطيط عمودي/قابل للتمرير مع إمكانية الانتقال إلى عرض الشجرة الكامل.

أزرار واضحة لإضافة/تعديل وحفظ/إلغاء.



7. أمان وخصوصية

حقل WhatsApp يظهر فقط بعد تسجيل الدخول وصلاحية المستخدم.

لوحة الأدمن محمية بكلمة مرور. حساب الأدمن الافتراضي ينصح بتغييره فورًا.

واجهة لاستعادة/إعادة تعيين كلمة المرور عبر البريد (اختياري).

احتفظ بنسخ احتياطية للـ JSON/DB وقابلية تنزيل نسخة.



8. وظائف إضافية مفيدة

بحث سريع بالأسماء.

إمكانية تصفية العرض حسب الأجيال أو الفروع.

إمكانية طباعة/تصدير صورة للشجرة.

سياسة عرض/إخفاء حقول (مثلاً: إخفاء تفاصيل حساسة عن الزوار).



9. متطلبات تقنية مقترحة (اختياري لكن مفضل)

Frontend: React أو Vue (واستخدم مكتبة رسم شجري مثل d3.js أو cytoscape.js أو vis.js للروابط الديناميكية).

Backend: Node.js (Express) أو PHP (Laravel) أو Python (Flask/Django) — حسب تفضيلك.

تخزين أولي: ملف JSON على السيرفر (مجلد محمي) ثم لاحقًا قاعدة بيانات بسيطة SQLite أو MySQL.

المصادقة: JWT أو جلسات (sessions) مع تخزين كلمات المرور مُشفّرة (bcrypt).

REST API endpoints: /api/login, /api/logout, /api/users, /api/persons, /api/relations, /api/export, /api/import.



10. تسليمات مطلوبة

شفرة مصدر كاملة (مفصولة إلى HTML/CSS/JS و/أو ملفات مشروع).

ملف بيانات ابتدائي seed.json كما في المثال أدناه.

دليل قصير (README) يشرح كيفية تشغيل وتغيير كلمة مرور الأدمن وكيفية تعديل البيانات يدوياً.




ملاحظة تنفيذية مهمة:

اليوزر + الباسورد لكل فرد لا تظهر في الواجهة العامة. يتم توليدها عند إضافة الفرد ويُرسل التنبيه الإداري (أو يعرض مرة واحدة في لوحة الأدمن) مع رغبة المستخدم بتغييرها لاحقًا.

رقم الواتساب يُخزن لكنه يُعرض فقط للحساب المصرح له أو للأشخاص بعد تسجيل الدخول.

